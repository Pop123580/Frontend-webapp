(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{6115:function(e,a,n){Promise.resolve().then(n.bind(n,3566))},3566:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return i}});var t=n(7437),s=n(2265);let l=[{code:"en",name:"English",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"hi",name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"bn",name:"Bengali",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"te",name:"Telugu",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"mr",name:"Marathi",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"ta",name:"Tamil",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"gu",name:"Gujarati",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"kn",name:"Kannada",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"ml",name:"Malayalam",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"or",name:"Odia",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"pa",name:"Punjabi",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"as",name:"Assamese",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"mai",name:"Maithili",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"ks",name:"Kashmiri",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"ne",name:"Nepali",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"kok",name:"Konkani",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"sd",name:"Sindhi",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"doi",name:"Dogri",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"mni",name:"Manipuri",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"ur",name:"Urdu",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"sa",name:"Sanskrit",flag:"\uD83C\uDDEE\uD83C\uDDF3"}],r="https://learnai-backend-1.onrender.com/api";function i(){let[e,a]=(0,s.useState)([]),[n,i]=(0,s.useState)(""),[d,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)("English"),[m,D]=(0,s.useState)(!1),[g]=(0,s.useState)(()=>Date.now().toString()),[x,f]=(0,s.useState)(""),[h,b]=(0,s.useState)("checking"),p=(0,s.useRef)(null),y=l.slice(0,7);(0,s.useEffect)(()=>{C()},[]);let C=async()=>{try{(await fetch("".concat(r,"/health"))).ok?b("online"):b("offline")}catch(e){b("offline")}},j=()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>{j()},[e]);let E=async()=>{if(!n.trim()||d)return;let e={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};a(a=>[...a,e]),i(""),o(!0),f("");try{let e=await fetch("".concat(r,"/chat/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,language:c,sessionId:g})}),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to get response");let s={id:(Date.now()+1).toString(),role:"ai",content:t.data.message,timestamp:new Date};a(e=>[...e,s])}catch(e){console.error("Chat error:",e),f(e.message||"Failed to get response. Please try again."),b("offline")}finally{o(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDCAC Ask AI"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Get instant answers in your preferred Indian language"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ".concat("online"===h?"bg-green-100 text-green-700":"offline"===h?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("online"===h?"bg-green-500":"offline"===h?"bg-red-500":"bg-yellow-500 animate-pulse")}),"online"===h?"Backend Online":"offline"===h?"Backend Offline":"Checking..."]}),e.length>0&&(0,t.jsx)("button",{onClick:()=>{a([]),f("")},className:"btn btn-secondary",children:"\uD83D\uDDD1️ Clear"})]})]}),"offline"===h&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-red-800 mb-2",children:"⚠️ Backend Server Not Running"}),(0,t.jsx)("p",{className:"text-red-700 text-sm mb-3",children:"Start the backend server:"}),(0,t.jsx)("code",{className:"block bg-red-100 rounded-lg p-3 text-sm text-red-800",children:"cd learnai-backend && node server.js"}),(0,t.jsx)("button",{onClick:C,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700",children:"\uD83D\uDD04 Check Again"})]}),x&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:x}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"\uD83C\uDDEE\uD83C\uDDF3 Select Indian Language:"}),(0,t.jsxs)("span",{className:"text-sm text-amber-600 font-medium",children:["Selected: ",c]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[y.map(e=>(0,t.jsx)("button",{onClick:()=>u(e.name),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(c===e.name?"bg-amber-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.name},e.code)),(0,t.jsx)("button",{onClick:()=>D(!m),className:"px-4 py-2 rounded-full text-sm font-medium bg-orange-100 text-orange-700 hover:bg-orange-200 transition-all",children:m?"Show Less ▲":"+".concat(l.length-7," More Languages ▼")})]}),m&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-200",children:l.slice(7).map(e=>(0,t.jsx)("button",{onClick:()=>{u(e.name),D(!1)},className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(c===e.name?"bg-amber-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.name},e.code))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex flex-col h-[500px]",children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===e.length?(0,t.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)("span",{className:"text-4xl",children:"\uD83C\uDDEE\uD83C\uDDF3"})}),(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Ask in ",c]}),(0,t.jsx)("p",{className:"text-gray-500 max-w-sm mb-6",children:"Type any question and get AI-powered answers in your language"}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:["Explain photosynthesis","What is calculus?","Solve: 2x + 5 = 15"].map(e=>(0,t.jsx)("button",{onClick:()=>i(e),disabled:"offline"===h,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700 disabled:opacity-50",children:e},e))})]}):(0,t.jsxs)(t.Fragment,{children:[e.map(e=>(0,t.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:"max-w-[80%] p-4 rounded-2xl ".concat("user"===e.role?"bg-amber-600 text-white rounded-br-md":"bg-gray-100 text-gray-800 rounded-bl-md"),children:[(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),(0,t.jsx)("p",{className:"text-xs mt-2 ".concat("user"===e.role?"text-amber-200":"text-gray-400"),children:e.timestamp.toLocaleTimeString()})]})},e.id)),d&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-bl-md",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,t.jsx)("div",{ref:p})]})}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E())},placeholder:"offline"===h?"Start backend server first...":"Ask in ".concat(c,"..."),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent",disabled:d||"offline"===h}),(0,t.jsx)("button",{onClick:E,disabled:d||!n.trim()||"offline"===h,className:"px-6 py-3 bg-amber-600 text-white rounded-xl hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":"Send"})]})})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6115)}),_N_E=e.O()}]);